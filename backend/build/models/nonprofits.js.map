{"version":3,"sources":["../../src/models/nonprofits.js"],"names":["db","findNonProfitByEIN","ein","success","error","nonProfits","find","where","then","results","catch","err","findNonProfitByID","nonprofitId","addNonProfit","nonProfitData","findResults","nonProfit","status","create","createResults","createError"],"mappings":";;;;;;;AAAA;;IAAYA,E;;;;AAEL,MAAMC,kDAAqB,CAACC,GAAD,EAAMC,OAAN,EAAeC,KAAf,KAAyB;AACzDJ,KAAGK,UAAH,CAAcC,IAAd,CAAmB,EAAEC,OAAO,EAAEL,GAAF,EAAT,EAAnB,EACGM,IADH,CACQC,WAAWN,QAAQM,OAAR,CADnB,EAEGC,KAFH,CAESC,OAAOP,MAAMO,GAAN,CAFhB;AAGD,CAJM;;AAMA,MAAMC,gDAAoB,CAACC,WAAD,EAAcV,OAAd,EAAuBC,KAAvB,KAAiC;AAChEJ,KAAGK,UAAH,CAAcC,IAAd,CAAmB,EAAEC,OAAO,EAAEM,WAAF,EAAT,EAAnB,EACGL,IADH,CACQC,WAAWN,QAAQM,OAAR,CADnB,EAEGC,KAFH,CAESC,OAAOP,MAAMO,GAAN,CAFhB;AAGD,CAJM;;AAMA,MAAMG,sCAAe,CAACC,aAAD,EAAgBZ,OAAhB,EAAyBC,KAAzB,KAAmC;AAC7DH,qBAAmBc,cAAcb,GAAjC,EACGc,WAAD,IAAiB;AACf,QAAIA,gBAAgB,IAApB,EAA0B;AACxB,YAAMC,YAAYD,WAAlB;AACAC,gBAAUC,MAAV,GAAmB,GAAnB;AACA,aAAOf,QAAQc,SAAR,CAAP;AACD;AACDjB,OAAGK,UAAH,CAAcc,MAAd,CAAqBJ,aAArB,EACGP,IADH,CAEKY,aAAD,IAAmB;AACjB,YAAMH,YAAYG,aAAlB;AACAH,gBAAUC,MAAV,GAAmB,GAAnB;AACA,aAAOf,QAAQc,SAAR,CAAP;AACD,KANL,EAOGP,KAPH,CAOSW,eAAejB,MAAMiB,WAAN,CAPxB;AAQD,GAfH,EAgBEjB,KAhBF;AAiBD,CAlBM","file":"nonprofits.js","sourcesContent":["import * as db from './db';\n\nexport const findNonProfitByEIN = (ein, success, error) => {\n  db.nonProfits.find({ where: { ein } })\n    .then(results => success(results))\n    .catch(err => error(err));\n};\n\nexport const findNonProfitByID = (nonprofitId, success, error) => {\n  db.nonProfits.find({ where: { nonprofitId } })\n    .then(results => success(results))\n    .catch(err => error(err));\n};\n\nexport const addNonProfit = (nonProfitData, success, error) => {\n  findNonProfitByEIN(nonProfitData.ein,\n    (findResults) => {\n      if (findResults !== null) {\n        const nonProfit = findResults;\n        nonProfit.status = 200;\n        return success(nonProfit);\n      }\n      db.nonProfits.create(nonProfitData)\n        .then(\n          (createResults) => {\n            const nonProfit = createResults;\n            nonProfit.status = 201;\n            return success(nonProfit);\n          })\n        .catch(createError => error(createError));\n    },\n    error);\n};\n"]}